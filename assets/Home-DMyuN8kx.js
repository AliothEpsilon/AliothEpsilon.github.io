import{d as $,c as y,r as A,a as l,b as s,F as g,e as h,o as n,u as C,w as Y,f as b,t as m,v as B,g as f,h as x,n as R,i as D,R as S,_ as k,j as T,k as E,l as w,m as N}from"./index-ekIRFL_h.js";import{A as V}from"./ArticleCard-CzBoXowa.js";import{p as F}from"./article-DfwNoQky.js";const I={class:"article-navigation"},L=["onClick"],O={class:"article-count"},P={class:"toggle-icon"},j={class:"date-list"},M={class:"date-text"},H=$({__name:"ArticleNavigation",props:{articlesByYear:{}},setup(v){const u=C(),_=y(()=>u.params.slug),r=A(new Set),c=a=>{r.value.has(a)?r.value.delete(a):r.value.add(a)},o=a=>r.value.has(a),e=a=>{const d=new Date(a),p=d.getFullYear(),t=String(d.getMonth()+1).padStart(2,"0"),i=String(d.getDate()).padStart(2,"0");return`${p}-${t}-${i}`};return(a,d)=>(n(),l("aside",I,[d[0]||(d[0]=s("h3",{class:"nav-title"},"文章归档",-1)),(n(!0),l(g,null,h(v.articlesByYear,(p,t)=>(n(),l("div",{key:t,class:"year-section"},[s("h4",{class:"year-header",onClick:i=>c(t)},[b(m(t)+" ",1),s("span",O,"("+m(p.length)+")",1),s("span",P,m(o(t)?"▶":"▼"),1)],8,L),Y(s("ul",j,[(n(!0),l(g,null,h(p,i=>(n(),l("li",{key:i.slug,class:"date-item"},[f(D(S),{to:`/article/${i.slug}`,class:R(["date-link",{active:_.value===i.slug}])},{default:x(()=>[s("span",M,m(e(i.date)),1)]),_:2},1032,["to","class"])]))),128))],512),[[B,!o(t)]])]))),128))]))}}),z=k(H,[["__scopeId","data-v-90d7ee81"]]),q={class:"recent-articles"},G={class:"recent-list"},J={class:"recent-article-title"},K={key:0,class:"recent-tags"},Q=$({__name:"RecentArticles",props:{recentArticles:{}},setup(v){return(u,_)=>(n(),l("aside",q,[_[0]||(_[0]=s("h3",{class:"recent-title"},"最新文章",-1)),s("ul",G,[(n(!0),l(g,null,h(v.recentArticles,r=>(n(),l("li",{key:r.slug,class:"recent-item"},[f(D(S),{to:`/article/${r.slug}`,class:"recent-link"},{default:x(()=>[s("span",J,m(r.title),1),r.tags&&r.tags.length>0?(n(),l("div",K,[(n(!0),l(g,null,h(r.tags.slice(0,3),c=>(n(),l("span",{key:c,class:"recent-tag"},m(c),1))),128))])):T("",!0)]),_:2},1032,["to"])]))),128))])]))}}),U=k(Q,[["__scopeId","data-v-8ecacd17"]]),W={class:"home"},X={class:"home-layout"},Z={class:"left-sidebar"},ee={class:"main-content"},te={class:"right-sidebar"},se=$({__name:"Home",setup(v){const u=A([]),_=y(()=>u.value.slice(0,5)),r=y(()=>{const c={};return u.value.forEach(o=>{const e=new Date(o.date).getFullYear().toString();c[e]||(c[e]=[]),c[e].push(o)}),c});return E(async()=>{const c=Object.assign({"../../articles/vite-vue3-typescripts.md":()=>w(()=>import("./vite-vue3-typescripts-r9Twfv4g.js"),[]).then(e=>e.default),"../../articles/welcome.md":()=>w(()=>import("./welcome-CSV5dFql.js"),[]).then(e=>e.default)}),o=await Promise.all(Object.entries(c).map(async([e,a])=>{var i;const d=await a(),p=((i=e.split("/").pop())==null?void 0:i.replace(".md",""))||"",t=F(d,p);return{slug:t.slug,title:t.title,date:t.date,tags:t.tags,category:t.category,excerpt:t.excerpt||"",readingTime:t.readingTime,pinned:t.pinned||!1}}));u.value=o.sort((e,a)=>e.pinned&&!a.pinned?-1:!e.pinned&&a.pinned?1:new Date(a.date).getTime()-new Date(e.date).getTime())}),(c,o)=>(n(),l("div",W,[o[0]||(o[0]=s("h1",{class:"home-title"},"欢迎来到我的博客",-1)),o[1]||(o[1]=s("p",{class:"home-subtitle"},"我在自己的无知面前心悦诚服",-1)),s("div",X,[s("aside",Z,[f(z,{"articles-by-year":r.value},null,8,["articles-by-year"])]),s("main",ee,[(n(!0),l(g,null,h(u.value,e=>(n(),N(V,{key:e.slug,article:e},null,8,["article"]))),128))]),s("aside",te,[f(U,{"recent-articles":_.value},null,8,["recent-articles"])])])]))}}),le=k(se,[["__scopeId","data-v-827bad0d"]]);export{le as default};
