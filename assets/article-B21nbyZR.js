function N(t){let s=t;const c=s.match(/```[\s\S]*?```/g)||[],o=(s.match(/!\[.*?\]\(.*?\)/g)||[]).length;s=s.replace(/```[\s\S]*?```/g,""),s=s.replace(/!\[.*?\]\(.*?\)/g,"");const a=(s.match(/[\u4e00-\u9fa5]/g)||[]).length,g=(s.match(/[a-zA-Z]+/g)||[]).length,f=c.reduce((_,I)=>_+I.split(`
`).length,0),h=a/500,E=g/200,d=f/50,S=o*.5,u=Math.ceil(h+E+d+S);let l="";return u<1?l="少于 1 分钟":l=`${u} 分钟`,{minutes:u,text:l}}function R(t,n){const e=p(t);return{...{title:e.data.title||n,date:e.data.date||new Date().toISOString(),tags:e.data.tags||[],category:e.data.category||"",excerpt:e.data.excerpt||M(e.content),readingTime:e.data.readingTime||N(e.content).minutes},slug:n,content:e.content}}function p(t){const n=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,e=t.match(n);if(!e)return{data:{},content:t};const r=e[1],i=e[2];return{data:T(r),content:i}}function T(t){const n={},e=t.split(`
`);let r=null,i=[];for(const s of e){const c=s.trim();if(!c||c.startsWith("#"))continue;const o=c.indexOf(":");if(o!==-1){r&&i.length>0&&(n[r]=i,i=[]),r=c.substring(0,o).trim();const a=c.substring(o+1).trim();a&&(n[r]=m(a),r=null)}else if(c.startsWith("-")&&r){const a=c.substring(1).trim();a&&i.push(m(a))}}return r&&i.length>0&&(n[r]=i),n}function m(t){if(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;const n=Number(t);return isNaN(n)?t:n}function M(t,n=200){return t.replace(/```[\s\S]*?```/g,"").replace(/\n+/g," ").trim().substring(0,n)}function x(t){return new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}export{x as f,R as p};
