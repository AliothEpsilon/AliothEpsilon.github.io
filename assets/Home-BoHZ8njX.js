import{d as w,c as y,r as x,a as r,b as a,F as h,e as v,o as n,u as T,w as b,f as C,t as g,v as E,g as $,h as Y,n as I,i as B,R as S,_ as A,j as R,k as N,l as D,m as V}from"./index-Bce5yI6g.js";import{A as F}from"./ArticleCard-NderGJqQ.js";import{p as L}from"./article-DfwNoQky.js";const O={class:"article-navigation"},j=["onClick"],P={class:"article-count"},M={class:"toggle-icon"},H={class:"date-list"},z={class:"date-text"},q=w({__name:"ArticleNavigation",props:{articlesByYear:{}},setup(f){const _=f,m=T(),d=y(()=>m.params.slug),s=x(new Set),o=c=>{s.value.has(c)?s.value.delete(c):s.value.add(c)},e=c=>s.value.has(c),p=y(()=>{const c=Object.keys(_.articlesByYear).sort((l,i)=>parseInt(i)-parseInt(l)),t={};return c.forEach(l=>{t[l]=[..._.articlesByYear[l]].sort((i,u)=>new Date(u.date).getTime()-new Date(i.date).getTime())}),t}),k=c=>{const t=new Date(c),l=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0");return`${l}-${i}-${u}`};return(c,t)=>(n(),r("aside",O,[t[0]||(t[0]=a("h3",{class:"nav-title"},"文章归档",-1)),(n(!0),r(h,null,v(p.value,(l,i)=>(n(),r("div",{key:i,class:"year-section"},[a("h4",{class:"year-header",onClick:u=>o(i)},[C(g(i)+" ",1),a("span",P,"("+g(l.length)+")",1),a("span",M,g(e(i)?"▶":"▼"),1)],8,j),b(a("ul",H,[(n(!0),r(h,null,v(l,u=>(n(),r("li",{key:u.slug,class:"date-item"},[$(B(S),{to:`/article/${u.slug}`,class:I(["date-link",{active:d.value===u.slug}])},{default:Y(()=>[a("span",z,g(k(u.date)),1)]),_:2},1032,["to","class"])]))),128))],512),[[E,!e(i)]])]))),128))]))}}),G=A(q,[["__scopeId","data-v-f0ee10ca"]]),J={class:"recent-articles"},K={class:"recent-list"},Q={class:"recent-article-title"},U={key:0,class:"recent-tags"},W=w({__name:"RecentArticles",props:{recentArticles:{}},setup(f){return(_,m)=>(n(),r("aside",J,[m[0]||(m[0]=a("h3",{class:"recent-title"},"最新文章",-1)),a("ul",K,[(n(!0),r(h,null,v(f.recentArticles,d=>(n(),r("li",{key:d.slug,class:"recent-item"},[$(B(S),{to:`/article/${d.slug}`,class:"recent-link"},{default:Y(()=>[a("span",Q,g(d.title),1),d.tags&&d.tags.length>0?(n(),r("div",U,[(n(!0),r(h,null,v(d.tags.slice(0,3),s=>(n(),r("span",{key:s,class:"recent-tag"},g(s),1))),128))])):R("",!0)]),_:2},1032,["to"])]))),128))])]))}}),X=A(W,[["__scopeId","data-v-8ecacd17"]]),Z={class:"home"},ee={class:"home-layout"},te={class:"left-sidebar"},se={class:"main-content"},ae={class:"right-sidebar"},ne=w({__name:"Home",setup(f){const _=x([]),m=y(()=>_.value.slice(0,5)),d=y(()=>{const s={};return _.value.forEach(o=>{const e=new Date(o.date).getFullYear().toString();s[e]||(s[e]=[]),s[e].push(o)}),s});return N(async()=>{const s=Object.assign({"../../articles/vite-vue3-typescripts.md":()=>D(()=>import("./vite-vue3-typescripts-r9Twfv4g.js"),[]).then(e=>e.default),"../../articles/welcome.md":()=>D(()=>import("./welcome-CSV5dFql.js"),[]).then(e=>e.default)}),o=await Promise.all(Object.entries(s).map(async([e,p])=>{var l;const k=await p(),c=((l=e.split("/").pop())==null?void 0:l.replace(".md",""))||"",t=L(k,c);return{slug:t.slug,title:t.title,date:t.date,tags:t.tags,category:t.category,excerpt:t.excerpt||"",readingTime:t.readingTime,pinned:t.pinned||!1}}));_.value=o.sort((e,p)=>e.pinned&&!p.pinned?-1:!e.pinned&&p.pinned?1:new Date(p.date).getTime()-new Date(e.date).getTime())}),(s,o)=>(n(),r("div",Z,[o[0]||(o[0]=a("h1",{class:"home-title"},"欢迎来到我的博客",-1)),o[1]||(o[1]=a("p",{class:"home-subtitle"},"我在自己的无知面前心悦诚服",-1)),a("div",ee,[a("aside",te,[$(G,{"articles-by-year":d.value},null,8,["articles-by-year"])]),a("main",se,[(n(!0),r(h,null,v(_.value,e=>(n(),V(F,{key:e.slug,article:e},null,8,["article"]))),128))]),a("aside",ae,[$(X,{"recent-articles":m.value},null,8,["recent-articles"])])])]))}}),oe=A(ne,[["__scopeId","data-v-827bad0d"]]);export{oe as default};
