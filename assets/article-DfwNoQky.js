function I(t){let s=t;const a=s.match(/```[\s\S]*?```/g)||[],o=(s.match(/!\[.*?\]\(.*?\)/g)||[]).length;s=s.replace(/```[\s\S]*?```/g,""),s=s.replace(/!\[.*?\]\(.*?\)/g,"");const c=(s.match(/[\u4e00-\u9fa5]/g)||[]).length,f=(s.match(/[a-zA-Z]+/g)||[]).length,g=a.reduce((_,p)=>_+p.split(`
`).length,0),d=c/500,h=f/200,E=g/50,S=o*.5,u=Math.ceil(d+h+E+S);let l="";return u<1?l="少于 1 分钟":l=`${u} 分钟`,{minutes:u,text:l}}function R(t,n){const e=N(t);return{...{title:e.data.title||n,date:e.data.date||new Date().toISOString(),tags:e.data.tags||[],category:e.data.category||"",excerpt:e.data.excerpt||M(e.content),readingTime:e.data.readingTime||I(e.content).minutes,pinned:e.data.pinned||!1},slug:n,content:e.content}}function N(t){const n=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,e=t.match(n);if(!e)return{data:{},content:t};const r=e[1],i=e[2];return{data:T(r),content:i}}function T(t){const n={},e=t.split(`
`);let r=null,i=[];for(const s of e){const a=s.trim();if(!a||a.startsWith("#"))continue;const o=a.indexOf(":");if(o!==-1){r&&i.length>0&&(n[r]=i,i=[]),r=a.substring(0,o).trim();const c=a.substring(o+1).trim();c&&(n[r]=m(c),r=null)}else if(a.startsWith("-")&&r){const c=a.substring(1).trim();c&&i.push(m(c))}}return r&&i.length>0&&(n[r]=i),n}function m(t){if(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;const n=Number(t);return isNaN(n)?t:n}function M(t,n=200){return t.replace(/```[\s\S]*?```/g,"").replace(/\n+/g," ").trim().substring(0,n)}function x(t){return new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}export{x as f,R as p};
